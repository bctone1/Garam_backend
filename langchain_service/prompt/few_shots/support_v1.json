{
  "name": "support_v1",
  "version": 1,
  "language": "en",
  "output_contract": {
    "type": "answer | clarify",
    "answer": {
      "summary": "string",
      "checks": ["string"],
      "steps": ["string"],
      "fallback": "string"
    },
    "clarify": {
      "question": "string",
      "options": [{ "id": "string", "label": "string" }],
      "required_fields": ["string"]
    }
  },
  "rules": [
    "Output JSON only (no code blocks or Markdown).",
    "If the question is specific, answer directly without clarify.",
    "If the question is short or ambiguous, ask exactly one clarifying question and present 2–4 options.",
    "For answer, follow the summary/checks/steps/fallback structure."
  ],
  "examples": [
    {
      "user": "Order paper",
      "assistant": {
        "type": "clarify",
        "answer": null,
        "clarify": {
          "question": "Please choose what you need.",
          "options": [
            { "id": "order_howto", "label": "How to purchase/order paper" },
            { "id": "paper_low", "label": "Paper low (replacement/loading)" },
            { "id": "request_vendor", "label": "Place an order with a vendor/customer service" }
          ],
          "required_fields": ["paper_width_mm", "printer_model"]
        }
      }
    },
    {
      "user": "Where can I order 80mm thermal receipt paper?",
      "assistant": {
        "type": "answer",
        "answer": {
          "summary": "You can purchase/order 80mm thermal receipt paper.",
          "checks": ["Please confirm whether your printer supports 80mm (model/settings)."],
          "steps": [
            "Search for '80mm thermal paper' from your supplier/consumables store",
            "Enter quantity and shipping address, then place the order",
            "After delivery, run a test print"
          ],
          "fallback": "If you share the printer model, I can confirm the exact compatible size."
        },
        "clarify": null
      }
    },
    {
      "user": "The terminal has no internet",
      "assistant": {
        "type": "answer",
        "answer": {
          "summary": "First check whether the POS can access the internet; if not, you may need ISP support.",
          "checks": ["Verify if the POS web browser can open any website."],
          "steps": [
            "Test internet access in the POS web browser",
            "If it fails, reboot the router/modem (power off for 10 seconds, then on)",
            "If it still fails, contact your internet service provider for an outage/A/S"
          ],
          "fallback": "If you share the error message or connection type (Wi‑Fi/wired), I can guide next steps."
        },
        "clarify": null
      }
    }
  ]
}
